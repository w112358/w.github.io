<!DocTYPE HTML>

<html>

  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="final-style.css">
    <link href="https://fonts.googleapis.com/css?family=Audiowide" rel="stylesheet">
    <title>Poke</title>

  </head>


  <body>

    <header>
      <ul>
        <li><a href = "https://w112358.github.io">Home</a></li>
        <li class = "dropdown">
          <a>Projects</a>
          <div class = "dropdown_content">
            <a href = "https://w112358.github.io/class2_HW2">Project 2</a>
            <a href = "https://w112358.github.io/class3_HW3">Project 3</a>
            <a href = "https://w112358.github.io/class4_HWK">Project 4</a>
        </li>
        <li class = "nav_left"><a href = "https://bulbapedia.bulbagarden.net/wiki/Main_Page">More</a></li>
      </ul>

    <div id = "title_loc"></div>
      <div id = "title">
        <div class = "title_text">Poke & data</div>
      </div>
    </header>

    <div id = "main">
    <svg id="mysvg"></svg>
    </div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>

    var margin1 = 100;
    var margin2 = 50
    d3.select("#mysvg")
      .attr("width", window.innerWidth - 2*margin1)
      .attr("height", window.innerHeight - 2*margin2)
      .style("background-color", "white")
      .attr("opacity", "0.3")
      .attr("transform", "translate(" + margin1 + ", " + margin2 + ")");

/*  d3.csv("Pokemon_less.csv", function(error, data){
      console.log(data);
    });

    d3.csv("poke_type.csv", function(error, data){
      console.log(data);
    })        */

    d3.queue()
      .defer(d3.csv, "Pokemon_less.csv")
      .defer(d3.csv, "poke_type.csv")
      .awaitAll(function(error, data){
        if(error)throw(error);

        var pokes = data[0];
        var types = data[1];

        pokes.forEach(function(d){
  //      d.index = parseFloat(i);
          for(var j in d){
            var num = + d[j];
            if(isNaN(num) == false){
              d[j] = num;
            }
          }
          console.log(d);
        })
        types.forEach(function(d){
          for(var j in d){
            var num = +d[j];
            if(isNaN(num) == false){
              d[j] = num;
            }
          }
          console.log(d);
        })

      return pokes, types;
    })





    </script>

  </body>

</html>
